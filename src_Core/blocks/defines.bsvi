#define PAT(v, P) \
   case (v) matches \
      tagged P .x: return x; \
   endcase
